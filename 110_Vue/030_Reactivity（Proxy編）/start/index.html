<script type="module">
  import { trigger, effect } from "./reactive.js";
  const obj = {
    a: 0,
  };
  const handler = {
    set: function (target, prop, value, receiver) {
      console.log(`[set]: ${prop}`);
      target[prop] = value;
      trigger();
      return true;
    },
  };

  effect(() => {
    console.log(obj.a);
  });
  const pxy = new Proxy(obj, handler);

  pxy.a = 1;
</script>
